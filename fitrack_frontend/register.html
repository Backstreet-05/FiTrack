<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Register - FitRack</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Bootstrap 5 -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    body {
      background: linear-gradient(to right, rgba(220, 38, 38, 0.6), rgba(0, 0, 0, 0.8)),
                  url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D') no-repeat center center fixed;
      background-size: cover;
      min-height: 100vh;
      color: white;
    }
  
    .card {
      background-color: rgba(0, 0, 0, 0.75);
      backdrop-filter: blur(8px);
    }
  
    .form-control {
      background-color: #1a1a1a;
      color: white;
      border: 1px solid #333;
      border-radius: 0.5rem;
    }
  
    .form-control::placeholder {
      color: #aaa;
    }
  
    .form-control:focus {
      background-color: #1a1a1a;
      color: white;
      border-color: #dc2626;
      box-shadow: none;
    }
  
    .form-label {
      color: #f0f0f0;
      font-weight: 500;
    }
  
    .btn-primary {
      background-color: #dc2626;
      border: none;
      transition: background 0.3s ease;
    }
  
    .btn-primary:hover {
      background-color: #b91c1c;
    }
  
    .text-primary {
      color: #dc2626 !important;
    }
  </style>
  
</head>
<body class="flex items-center justify-center px-4">

  <div class="card shadow-lg p-5 rounded-4 w-full max-w-md mt-10">
    <h2 class="text-3xl font-bold text-center mb-3 text-white">Create Your FitRack Account</h2>
    <p class="text-center text-sm text-gray-400 mb-4 italic">"Push harder than yesterday if you want a different tomorrow."</p>

    <form id="registerForm" class="space-y-4" onsubmit="event.preventDefault(); handleRegistration();">
      <!-- First Name -->
      <div class="form-group">
        <label for="firstName" class="form-label">First Name</label>
        <input type="text" class="form-control" id="firstName" placeholder="Enter your first name" required />
      </div>

      <!-- Last Name -->
      <div class="form-group">
        <label for="lastName" class="form-label">Last Name</label>
        <input type="text" class="form-control" id="lastName" placeholder="Enter your last name" required />
      </div>

      <!-- Age -->
      <div class="form-group">
        <label for="age" class="form-label">Age</label>
        <input type="number" class="form-control" id="age" placeholder="Enter your age" required />
      </div>

      <!-- Phone Number -->
      <div class="form-group">
        <label for="phoneNumber" class="form-label">Phone Number</label>
        <input type="tel" class="form-control" id="phoneNumber" placeholder="Enter your phone number" required />
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email" class="form-label">Email address</label>
        <input type="email" class="form-control" id="email" placeholder="Enter email" required />
      </div>

      <!-- Password -->
      <div class="form-group">
        <label for="password" class="form-label">Password</label>
        <input type="password" class="form-control" id="password" placeholder="Password" required />
      </div>

      <!-- Submit Button -->
      <div class="mt-4">
        <button type="submit" class="btn btn-primary w-full">Register</button>
      </div>

      <!-- Back to Login -->
      <p class="text-center text-sm mt-3">
        Already have an account?
        <a href="index.html" class="text-primary fw-bold">Login here</a>
      </p>
    </form>
  </div>

  <script>
    function handleRegistration() {
      const firstName = document.getElementById("firstName").value;
      const lastName = document.getElementById("lastName").value;
      const age = document.getElementById("age").value;
      const phoneNumber = document.getElementById("phoneNumber").value;
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      if (firstName && lastName && age && phoneNumber && email && password) {
        const userData = {
          firstName,
          lastName,
          age,
          phoneNumber,
          email,
          password,
          userType: "user"
        };

        fetch('http://localhost:3000/register', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(userData)
        })
        .then(response => response.json())
        .then(data => {
          alert(data.message);
          if (data.message === 'Registration successful!') {
            window.location.href = "select.html";
          }
        })
        .catch(error => {
          alert('Error: ' + error.message);
        });
      } else {
        alert("Please fill in all fields.");
      }
    }
  </script>
</body>
</html>